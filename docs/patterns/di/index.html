<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>5.2 Dependency Injection :: Software Engineering Skills</title>

    
    <link href="../../css/nucleus.css?1621510100" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1621510100" rel="stylesheet">
    <link href="../../css/hybrid.css?1621510100" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1621510100" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1621510100" rel="stylesheet">
    <link href="../../css/auto-complete.css?1621510100" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1621510100" rel="stylesheet">
    <link href="../../css/theme.css?1621510100" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1621510100" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1621510100" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1621510100"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
      <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

<script>
window.MathJax = {
  chtml: {
    scale: 2,                      
    minScale: .5,                  
    matchFontHeight: true,         
    mtextInheritFont: false,       
    merrorInheritFont: true,       
    mathmlSpacing: false,          
    skipAttributes: {},            
    exFactor: .5,                  
    displayAlign: 'center',        
    displayIndent: '0'             
  }
};
</script>

<script src=../../js/osc.js></script>
  </head>
  <body class="" data-url="../../patterns/di/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
	<img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
	<img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1621510100"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1621510100"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/ses-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1621510100"></script>

    
  </div>

    <div class="highlightable">
    <h3><a href="../../">Inhoudsopgave</a></h3>
    <ul class="topics">
        
          
          




 
  
    
    <li data-nav-id="/versiebeheer/" title="1. Versie- en issuebeheer" class="dd-item 
        
        
        
        ">
      <a href="../../versiebeheer/">
          1. Versie- en issuebeheer
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/dependency-management/" title="2. Dependency Management" class="dd-item 
        
        
        
        ">
      <a href="../../dependency-management/">
          2. Dependency Management
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/dependency-management/gradle/" title="2.1 Java Gradle projecten" class="dd-item ">
        <a href="../../dependency-management/gradle/">
        2.1 Java Gradle projecten
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/tdd/" title="3. Test Driven Development" class="dd-item 
        
        
        
        ">
      <a href="../../tdd/">
          3. Test Driven Development
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/tdd/mockito/" title="3.1 TDD In de praktijk: Mockito" class="dd-item ">
        <a href="../../tdd/mockito/">
        3.1 TDD In de praktijk: Mockito
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/capita/" title="3.2 TDD Capita Selecta: Algoritmes" class="dd-item ">
        <a href="../../tdd/capita/">
        3.2 TDD Capita Selecta: Algoritmes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/tdd-challenge/" title="3.3 The TDD proglang challenge" class="dd-item ">
        <a href="../../tdd/tdd-challenge/">
        3.3 The TDD proglang challenge
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/tdd-ex-feedback/" title="3.4 TDD opgave feedback" class="dd-item ">
        <a href="../../tdd/tdd-ex-feedback/">
        3.4 TDD opgave feedback
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/algoritmes/" title="4. Algoritmes en Datastructuren" class="dd-item 
        
        
        
        ">
      <a href="../../algoritmes/">
          4. Algoritmes en Datastructuren
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/patterns/" title="5. Design Patterns" class="dd-item 
        parent
        
        
        ">
      <a href="../../patterns/">
          5. Design Patterns
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/patterns/facade/" title="5.1 Facade" class="dd-item ">
        <a href="../../patterns/facade/">
        5.1 Facade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/di/" title="5.2 Dependency Injection" class="dd-item active">
        <a href="../../patterns/di/">
        5.2 Dependency Injection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/singleton/" title="5.3 Singleton" class="dd-item ">
        <a href="../../patterns/singleton/">
        5.3 Singleton
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/decorator/" title="5.4 Decorator" class="dd-item ">
        <a href="../../patterns/decorator/">
        5.4 Decorator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/factory/" title="5.5 Factory" class="dd-item ">
        <a href="../../patterns/factory/">
        5.5 Factory
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/lifecycle/" title="6. SW Development Life Cycle" class="dd-item 
        
        
        
        ">
      <a href="../../lifecycle/">
          6. SW Development Life Cycle
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/ci/" title="6.1 Continuous Integration &amp; Deployment" class="dd-item ">
        <a href="../../lifecycle/ci/">
        6.1 Continuous Integration &amp; Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/management/" title="6.2 Software Management Skills" class="dd-item ">
        <a href="../../lifecycle/management/">
        6.2 Software Management Skills
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="Extra informatie" class="dd-item 
        
        
        
        ">
      <a href="../../extra/">
          Extra informatie
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy-extending/" title="Extending the SESsy WebApp" class="dd-item ">
        <a href="../../extra/sessy-extending/">
        Extending the SESsy WebApp
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/software/" title="Gebruikte Software" class="dd-item ">
        <a href="../../extra/software/">
        Gebruikte Software
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/github-classroom/" title="Oefenzittingen: Github Clasroom" class="dd-item ">
        <a href="../../extra/github-classroom/">
        Oefenzittingen: Github Clasroom
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy/" title="SESsy Library WebApp" class="dd-item ">
        <a href="../../extra/sessy/">
        SESsy Library WebApp
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.uhasselt.be/studiegids"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Software Engineering Skills</a> > <a href='../../patterns/'>5. Design Patterns</a> > 5.2 Dependency Injection
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#_dependency-injection-di_---design-pattern"><em>&ldquo;Dependency Injection (DI)&quot;</em> - Design Pattern</a>
      <ul>
        <li><a href="#doelstelling">Doelstelling</a></li>
        <li><a href="#voorbeeld">Voorbeeld</a></li>
        <li><a href="#eigenschappen-van-dit-patroon">Eigenschappen van dit patroon</a></li>
      </ul>
    </li>
    <li><a href="#a-nameoefalabo-oefeningen"><a name="oef"></a>Labo oefeningen</a>
      <ul>
        <li><a href="#opgave-1">Opgave 1</a></li>
        <li><a href="#opgave-2">Opgave 2</a></li>
        <li><a href="#opgave-3">Opgave 3</a></li>
      </ul>
    </li>
    <li><a href="#denkvragen">Denkvragen</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              5.2 Dependency Injection
            </h1>
          

        


<h2 id="_dependency-injection-di_---design-pattern"><em>&ldquo;Dependency Injection (DI)&quot;</em> - Design Pattern</h2>
<p>Begeleidende screencast<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://player.vimeo.com/video/398530942" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div>

<h3 id="doelstelling">Doelstelling</h3>
<ul>
<li>Promoot <em>modulariteit</em> door afhankelijkheden te injecteren, zodat aparte modules eenvoudig inplugbaar zijn in andere productiecode. Op deze manier worden modules ook makkelijker tesbaar.</li>
<li>Promoot <em>Inversion of Control</em>: een client die services aanroept zou niet mogen weten hoe services worden aangemaakt - deze zou moeten worden &lsquo;geinjecteerd&rsquo;.</li>
</ul>
<p><a href="https://en.wikipedia.org/wiki/Dependency_injection">Wikipedia: Dependency Injection</a></p>
<h3 id="voorbeeld">Voorbeeld</h3>
<h4 id="1-opzet">1. Opzet</h4>
<p>Als we verder gaan op het voorbeeld van de <a href="../../patterns/singleton">singleton</a>, zien we dat een database handle nodig is om shopping cart gegevens op te halen. Hoe deze database wordt aangemaakt, daar heeft een typische API geen kaas van gegeten: daar komt meestal een connection string bij kijken met gebruikersnaam, wachtwoord, en IP adres naar de juiste DB server.</p>
<p>De DB accessor:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DBHandle</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> String connectionString<span style="color:#f92672">;</span>

    <span style="color:#75715e">// comes from some config file
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">DBHandle</span><span style="color:#f92672">(</span>String connectionString<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">connectionString</span> <span style="color:#f92672">=</span> connectionString<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> ShoppingCart <span style="color:#a6e22e">getShoppingCart</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// SELECT * FROM ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Met als REST endpoint:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Path</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/shoppingcart&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoppingResource</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@GET</span>
    <span style="color:#66d9ef">public</span> ShoppingCart <span style="color:#a6e22e">getCart</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        String conStr <span style="color:#f92672">=</span> ConfigurationManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConfig</span><span style="color:#f92672">(</span><span style="color:#960050;background-color:#1e0010">&#39;</span>dbconnection<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> DBHandle<span style="color:#f92672">(</span>conStr<span style="color:#f92672">).</span><span style="color:#a6e22e">getShoppingCart</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="2-probleemstelling">2. Probleemstelling</h4>
<p>Elke Resource klasse die een <code>DBHandle</code> instance wenst, zal ook via de <code>ConfigurationManager</code> het constructor argument moeten ophalen, om een instantie te kunnen aanmaken. Dit is uiteraard <strong>niet</strong> de juiste manier en introduceert veel duplicatie. Nu is de shopping resource &ldquo;in control&rdquo;, terwijl we in dat geval de Database de controle willen geven: <strong>Inversion of Control</strong> dus.</p>
<h4 id="3-oplossing">3. Oplossing</h4>
<p>Een mogelijke oplossing is een Singleton maken. Maar dan hebben we nog steeds:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Path</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/shoppingcart&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoppingResource</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@GET</span>
    <span style="color:#66d9ef">public</span> ShoppingCart <span style="color:#a6e22e">getCart</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> DBHandle<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getShoppingCart</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Als we deze methode willen testen, door <code>getCart()</code> op te roepen, spreken we steeds de échte database aan, wat duidelijk niet het gewenste gedrag is. We willen in dat geval de database <strong>injecteren</strong>. Een tweede stap is om de implementatie te verbergen achter een interface.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Path</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/shoppingcart&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoppingResource</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> DBHandle dbHandle<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ShoppingResource</span><span style="color:#f92672">(</span>DBHandle handle<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">dbHandle</span> <span style="color:#f92672">=</span> handle<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@GET</span>
    <span style="color:#66d9ef">public</span> ShoppingCart <span style="color:#a6e22e">getCart</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> dbHandle<span style="color:#f92672">.</span><span style="color:#a6e22e">getShoppingCart</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Nu weet deze klasse niet meer hoe hij de database aanmaakt: hij krijgt dit slechts toegeschoven via de constructor. Uiteraard hebben we het probleem verlegt: wie maakt deze resource klasse aan? Om dit probleem op te lossen zijn er typische Dependency Injection frameworks beschikbaar die objecten in een pool aanmaken en zo injecteren. Voorbeelden hiervan zijn:</p>
<ul>
<li><a href="https://github.com/google/guice">Google Guice</a></li>
<li><a href="https://spring.io">Spring Framework</a></li>
</ul>
<p>Als <code>DBHandle</code> een interface is, kunnen we op een eenvoudige manier een dummy implementatie maken en dit injecteren in de klasse ter test:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DummyDBHandle</span> <span style="color:#66d9ef">implements</span> DBHandle <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> called<span style="color:#f92672">;</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> ShoppingCart <span style="color:#a6e22e">getShoppingCart</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        called <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoppingResourceTest</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">getCart_callsGetShoppingCartFromDb</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        DummyDBHandle dbHandle <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DummyDBHandle<span style="color:#f92672">();</span>
        ShoppingResource resource <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ShoppingResource<span style="color:#f92672">(</span>dbHandle<span style="color:#f92672">);</span>
        resource<span style="color:#f92672">.</span><span style="color:#a6e22e">getCart</span><span style="color:#f92672">();</span>

        assertThat<span style="color:#f92672">(</span>dbHandle<span style="color:#f92672">.</span><span style="color:#a6e22e">called</span><span style="color:#f92672">,</span> is<span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">));</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Merk op dat de <code>connectionString</code> van de <code>DBHandle</code> ook via de constructor als argument wordt doorgegeven: dit is evenzeer een vorm van Dependency Injection.</p>
<h3 id="eigenschappen-van-dit-patroon">Eigenschappen van dit patroon</h3>
<ul>
<li>Geef de verantwoordelijkheid van het <em>aanmaken</em> van een object af. Een instantie wordt geinjecteerd door middel van een constructor of setter.</li>
<li>Maak van objecten geïsoleerde(re) stukjes code die makkelijker testbaar zijn dan hard gekoppelde objecten.</li>
</ul>
<h2 id="a-nameoefalabo-oefeningen"><a name="oef"></a>Labo oefeningen</h2>
<p>Via <a href="../../extra/github-classroom"><i class='fab fa-github'></i> Github Classroom</a>.</p>
<h3 id="opgave-1">Opgave 1</h3>
<ul>
<li>Er staan twee TODO items: verwijder eerst de <code>new DBHandle()</code> vanuit de resource klasse, en injecteer het via een constructor argument. Pas dan de unit test aan om de compile fouten te fixen.</li>
<li>Gebruik een interface om bovenstaande <code>DummyDBHandle</code> in het project te introduceren. Dat wil zeggen, hernoem <code>DBHandle</code> naar <code>DBHandleImplementation</code>, en maak een nieuwe interface genaamd <code>DBHandle</code>. Nu kan je de tweede unit test zoals hierboven toevoegen.</li>
</ul>
<h3 id="opgave-2">Opgave 2</h3>
<p>In plaats van manueel te injecteren, kunnen we deze zaken ook overlaten aan gespecialiseerde frameworks, zoals Google Guice. Bovenstaand project heeft als Gradle dependency een link naar Guice. Neem een kijkje in de <code>ShoppingCartGuiceResource</code> klasse, en probeer dit principe toe te passen op de andere resouce klasse. <code>@Inject</code> verzogt het DI systeem, zonder zelf ergens objecten aan te maken, behalve in de config klasse.</p>
<p>Zie ook <a href="https://github.com/google/guice/wiki/GettingStarted">Google Guice: getting started</a>.</p>
<h3 id="opgave-3">Opgave 3</h3>
<p><a href="../../extra/sessy">sessy library</a>:</p>
<ol>
<li>Welke klassen worden reeds geïnjecteerd, en op welke manier? (Constructor injectie, setter injectie, &hellip;)</li>
<li>identificeer welke klassen in een DI systeem kunnen worden opgenomen.</li>
<li>Introduceer een DI systeem: hetzij door Google Guice te gebruiken, hetzij door zelf te injecteren. Waar wordt DI reeds toegepast?</li>
</ol>
<h2 id="denkvragen">Denkvragen</h2>
<ul>
<li>Dependency Injection kan via de constructor, via setters (of direct op het veld via reflectie). Wat zijn de voor- en nadelen van via de constructor te werken, ten opzichte van via setters?</li>
<li>Denk je dat de <code>GuiceConfigModule</code> klasse op termijn niet te groot en verwarrend wordt, als dit constant wordt uitgebreid met nieuwe instanties die geregistreerd worden bij Guice? Wat zou je dan doen om dit tegen te gaan?</li>
</ul>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Merk op dat de cursus nu wordt gehost op <a href="https://kuleuven-diepenbeek.github.io/ses-course/">https://kuleuven-diepenbeek.github.io/ses-course/</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../patterns/facade/" title="5.1 Facade"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../patterns/singleton/" title="5.3 Singleton" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1621510100"></script>
    <script src="../../js/perfect-scrollbar.min.js?1621510100"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1621510100"></script>
    <script src="../../js/jquery.sticky.js?1621510100"></script>
    <script src="../../js/featherlight.min.js?1621510100"></script>
    <script src="../../js/highlight.pack.js?1621510100"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1621510100"></script>
    <script src="../../js/learn.js?1621510100"></script>
    <script src="../../js/hugo-learn.js?1621510100"></script>
    
        
            <script src="../../mermaid/mermaid.js?1621510100"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

