<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.79.1" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>5. Factory :: Software Engineering Skills</title>

    
    <link href="../../css/nucleus.css?1614176419" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1614176419" rel="stylesheet">
    <link href="../../css/hybrid.css?1614176419" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1614176419" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1614176419" rel="stylesheet">
    <link href="../../css/auto-complete.css?1614176419" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1614176419" rel="stylesheet">
    <link href="../../css/theme.css?1614176419" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1614176419" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1614176419" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1614176419"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
      <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

<script>
window.MathJax = {
  chtml: {
    scale: 2,                      
    minScale: .5,                  
    matchFontHeight: true,         
    mtextInheritFont: false,       
    merrorInheritFont: true,       
    mathmlSpacing: false,          
    skipAttributes: {},            
    exFactor: .5,                  
    displayAlign: 'center',        
    displayIndent: '0'             
  }
};
</script>

<script src=../../js/osc.js></script>
  </head>
  <body class="" data-url="../../patterns/factory/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
	<img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
	<img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1614176419"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1614176419"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/ses-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1614176419"></script>

    
  </div>

    <div class="highlightable">
    <h3><a href="../../">Inhoudsopgave</a></h3>
    <ul class="topics">
        
          
          




 
  
    
    <li data-nav-id="/versiebeheer/" title="1. Versie- en issuebeheer" class="dd-item 
        
        
        
        ">
      <a href="../../versiebeheer/">
          1. Versie- en issuebeheer
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/dependency-management/" title="2. Dependency Management" class="dd-item 
        
        
        
        ">
      <a href="../../dependency-management/">
          2. Dependency Management
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/dependency-management/gradle/" title="Java Gradle projecten" class="dd-item ">
        <a href="../../dependency-management/gradle/">
        Java Gradle projecten
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/tdd/" title="3. Test Driven Development" class="dd-item 
        
        
        
        ">
      <a href="../../tdd/">
          3. Test Driven Development
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/tdd/mockito/" title="TDD In de praktijk: Mockito" class="dd-item ">
        <a href="../../tdd/mockito/">
        TDD In de praktijk: Mockito
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/capita/" title="TDD met algoritmes" class="dd-item ">
        <a href="../../tdd/capita/">
        TDD met algoritmes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/algoritmes/" title="4. Algoritmes en Datastructuren" class="dd-item 
        
        
        
        ">
      <a href="../../algoritmes/">
          4. Algoritmes en Datastructuren
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/patterns/" title="5. Design Patterns" class="dd-item 
        parent
        
        
        ">
      <a href="../../patterns/">
          5. Design Patterns
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/patterns/facade/" title="1. Facade" class="dd-item ">
        <a href="../../patterns/facade/">
        1. Facade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/di/" title="2. Dependency Injection" class="dd-item ">
        <a href="../../patterns/di/">
        2. Dependency Injection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/singleton/" title="3. Singleton" class="dd-item ">
        <a href="../../patterns/singleton/">
        3. Singleton
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/decorator/" title="4. Decorator" class="dd-item ">
        <a href="../../patterns/decorator/">
        4. Decorator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/factory/" title="5. Factory" class="dd-item active">
        <a href="../../patterns/factory/">
        5. Factory
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/lifecycle/" title="6. SW Development Life Cycle" class="dd-item 
        
        
        
        ">
      <a href="../../lifecycle/">
          6. SW Development Life Cycle
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/ci/" title="Continuous Integration &amp; Deployment" class="dd-item ">
        <a href="../../lifecycle/ci/">
        Continuous Integration &amp; Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/management/" title="Software Management Skills" class="dd-item ">
        <a href="../../lifecycle/management/">
        Software Management Skills
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="Extra informatie" class="dd-item 
        
        
        
        ">
      <a href="../../extra/">
          Extra informatie
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy-extending/" title="Extending the SESsy WebApp" class="dd-item ">
        <a href="../../extra/sessy-extending/">
        Extending the SESsy WebApp
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/software/" title="Gebruikte Software" class="dd-item ">
        <a href="../../extra/software/">
        Gebruikte Software
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/github-classroom/" title="Oefenzittingen: Github Clasroom" class="dd-item ">
        <a href="../../extra/github-classroom/">
        Oefenzittingen: Github Clasroom
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy/" title="SESsy Library WebApp" class="dd-item ">
        <a href="../../extra/sessy/">
        SESsy Library WebApp
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.uhasselt.be/studiegids"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Software Engineering Skills</a> > <a href='../../patterns/'>5. Design Patterns</a> > 5. Factory
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#_factory_---design-pattern"><em>&ldquo;Factory&rdquo;</em> - Design Pattern</a>
      <ul>
        <li><a href="#doelstelling">Doelstelling</a></li>
        <li><a href="#voorbeeld">Voorbeeld</a></li>
        <li><a href="#eigenschappen-van-dit-patroon">Eigenschappen van dit patroon</a></li>
      </ul>
    </li>
    <li><a href="#a-nameoefalabo-oefeningen"><a name="oef"></a>Labo oefeningen</a>
      <ul>
        <li><a href="#opgave-1">Opgave 1</a></li>
        <li><a href="#opgave-2">Opgave 2</a></li>
        <li><a href="#opgave-3">Opgave 3</a></li>
      </ul>
    </li>
    <li><a href="#denkvragen">Denkvragen</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              5. Factory
            </h1>
          

        


<h2 id="_factory_---design-pattern"><em>&ldquo;Factory&rdquo;</em> - Design Pattern</h2>
<p>Begeleidende screencast<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://player.vimeo.com/video/398548507" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div>

<h3 id="doelstelling">Doelstelling</h3>
<ul>
<li>Scherm het aanmaken van bepaalde objecten af door middel van overerving en logica, waarbij die logica éénmalig wordt geïmplementeerd, en op een centrale plaats staat.</li>
<li>Promoot een <em>modulair</em> model door de verantwoordlijkheid van object creatie en object gebruik te scheiden.</li>
</ul>
<p><a href="https://sourcemaking.com/design_patterns/factory_method">Dive Into Design Patterns: Factory (method)</a></p>
<h3 id="voorbeeld">Voorbeeld</h3>
<h4 id="1-opzet">1. Opzet</h4>
<p>Stel, je wilt aan de kassa van een niet al te grote lokale cinema een film kopen. Stel, de persoon aan de kassa beslist de film, gebaseerd op je leeftijd. Er spelen die avond drie filmen: een kindvriendelijke, eentje voor tieners, en eentje gereserveerd voor volwassenen.</p>
<script defer src="../../mermaid/mermaid.min.js">
	mermaid.initialize({
		startOnLoad: true,
		flowchart: {
			useMaxWidth: true
		}
	});
</script>
<div class="mermaid" align="center" >
	
graph TD;
    A{Ticket}
    B[FamilyFilm]
    C[TeenageFilm]
    D[XRatedFilm]
    E[TicketSeller]
    F[Person]
    A --> B
    A --> C
    A --> D

</div>
<p>Waarbij een persoon een bepaalde leeftijd heeft:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>En de ticket verkoper een ticket verkoopt aan een persoon:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TicketSeller</span> <span style="color:#f92672">{</span>

    Ticket <span style="color:#a6e22e">buyTicketFor</span><span style="color:#f92672">(</span>Person person<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="2-probleemstelling">2. Probleemstelling</h4>
<p>De logica voor het aanmaken van de juiste <code>Ticket</code> subklasse moet op één centrale plaats staan. De ticket verkoper is hier ideaal voor, waarbij met wat simpele logica gebaseerd op <code>person.getAge()</code> de juiste film kan worden aangemaakt. We noemen in dat geval de methode <code>buyTicketFor()</code> een <strong>factory method</strong>.</p>
<h4 id="3-oplossing">3. Oplossing</h4>
<p>Door te controleren op leeftijd kan men de juiste instantie aanmaken en teruggeven. Dit is de verantwoordelijkheid van de ticket seller. Het voordeel is dat je als &ldquo;gebruiker&rdquo; van deze klasse, die de methode <code>buyTicketFor()</code> aanroept, je niet hoeft af te vragen wat er achter de abstracte klasse <code>Ticket</code> zit. Het is een ticket, de code kan verder lopen.</p>
<p>We kunnen dit nog verder drijven door de ticket verkoper zelf ook te laten aanmaken door een &ldquo;factory&rdquo; die bijvoorbeeld de medewerkers van diezelfde lokale cinema inhuurt. Persoon x verkoopt je tickets op basis van je leeftijd, en persoon y op basis van hoeveel geld je op zak hebt.</p>
<h3 id="eigenschappen-van-dit-patroon">Eigenschappen van dit patroon</h3>
<ul>
<li>Implementaties (van Ticket) zijn verborgen via de Factory Method.</li>
<li>Logica voor creatie staat op één centrale plaats.</li>
</ul>
<h2 id="a-nameoefalabo-oefeningen"><a name="oef"></a>Labo oefeningen</h2>
<p>Via <a href="../../extra/github-classroom"><i class='fab fa-github'></i> Github Classroom</a>.</p>
<h3 id="opgave-1">Opgave 1</h3>
<p>Het project bevat bovenstaande voorbeeld, maar nog niet alles is geïmplementeerd. Voer de unit testen uit in <code>src/main/test</code>: het resultaat zijn gefaalde testen (ROOD). Zorg er voor dat alle testen slagen (GROEN) door het factory patroon te vervolledigen!</p>
<h3 id="opgave-2">Opgave 2</h3>
<p>De eerste aanzet is genomen om een nieuw type van <code>TicketSeller</code> aan te maken, door reeds een interface te voorzien. Ontwikkel een <code>MoneyBasedTicketSeller</code>, die gebaseerd op het geld in je portefuille je het juiste ticket bezorgt. Dit betekent dat je in <code>Person</code> dus een nieuwe property nodig hebt. Voorzie ook een nieuwe test klasse, gebaseerd op <code>AgeBasedTicketSellerTest</code>.</p>
<h3 id="opgave-3">Opgave 3</h3>
<p><a href="../../extra/sessy">sessy library</a>:</p>
<ol>
<li>identificeer waar het mogelijk zou zijn om een factory patroon toe te passen. Welke verschillende implementaties delen een gelijke noemer? Waar staat mogelijks creatie logica (dubbel)?</li>
<li>Pas dit toe door een nieuwe klasse te voorzien die de Factory methode implementeert. Vergeet de unit testen niet!</li>
</ol>
<script defer src="../../mermaid/mermaid.min.js">
	mermaid.initialize({
		startOnLoad: true,
		flowchart: {
			useMaxWidth: true
		}
	});
</script>
<div class="mermaid" align="center" >
	
graph TD;
    A{Ticket}
    B[FamilyFilm]
    C[TeenageFilm]
    D[XRatedFilm]
    E{TicketSeller}
    F[AgeBasedTicketSeller]
    G[MoneyBasedTicketSeller]
    A --> B
    A --> C
    A --> D
    E --> F
    E --> G

</div>
<h2 id="denkvragen">Denkvragen</h2>
<ul>
<li>Wat is het verschil tussen een factory en een <a href="../../patterns/facade">facade</a> patroon? Wanneer heb ik het ene of het andere nodig?</li>
<li>Is er een mogelijkheid om <a href="../../patterns/di">Dependency Injection</a> en de Factory te combineren, zodat het keyword <code>new</code> niet meer wordt gebruikt in de factory klasse zelf?</li>
</ul>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Merk op dat de cursus nu wordt gehost op <a href="https://kuleuven-diepenbeek.github.io/ses-course/">https://kuleuven-diepenbeek.github.io/ses-course/</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../patterns/decorator/" title="4. Decorator"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../lifecycle/" title="6. SW Development Life Cycle" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1614176419"></script>
    <script src="../../js/perfect-scrollbar.min.js?1614176419"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1614176419"></script>
    <script src="../../js/jquery.sticky.js?1614176419"></script>
    <script src="../../js/featherlight.min.js?1614176419"></script>
    <script src="../../js/highlight.pack.js?1614176419"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1614176419"></script>
    <script src="../../js/learn.js?1614176419"></script>
    <script src="../../js/hugo-learn.js?1614176419"></script>
    
        
            <script src="../../mermaid/mermaid.js?1614176419"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

