<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>5.4 Decorator :: Software Engineering Skills</title>

    
    <link href="../../css/nucleus.css?1645804094" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1645804094" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1645804094" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1645804094" rel="stylesheet">
    <link href="../../css/auto-complete.css?1645804094" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1645804094" rel="stylesheet">
    <link href="../../css/theme.css?1645804094" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1645804094" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1645804094" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1645804094"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
      <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

<script>
window.MathJax = {
  chtml: {
    scale: 2,                      
    minScale: .5,                  
    matchFontHeight: true,         
    mtextInheritFont: false,       
    merrorInheritFont: true,       
    mathmlSpacing: false,          
    skipAttributes: {},            
    exFactor: .5,                  
    displayAlign: 'center',        
    displayIndent: '0'             
  }
};
</script>

<script src=../../js/devselector.js></script>
<link href="../../css/devselector.css" rel="stylesheet">
  </head>
  <body class="" data-url="../../patterns/decorator/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
	<img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
	<img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1645804094"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1645804094"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/ses-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1645804094"></script>

    
  </div>

    <div class="highlightable">
    <h3><a href="../../">Inhoudsopgave</a></h3>
    <ul class="topics">
        
          
          




 
  
    
    <li data-nav-id="/versiebeheer/" title="1. Versie- en issuebeheer" class="dd-item 
        
        
        
        ">
      <a href="../../versiebeheer/">
          1. Versie- en issuebeheer
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/dependency-management/" title="2. Dependency Management" class="dd-item 
        
        
        
        ">
      <a href="../../dependency-management/">
          2. Dependency Management
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/dependency-management/gradle/" title="2.1 Java Gradle projecten" class="dd-item ">
        <a href="../../dependency-management/gradle/">
        2.1 Java Gradle projecten
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/dependency-management/kotlin-gradle/" title="2.2 Kotlin Gradle projecten" class="dd-item ">
        <a href="../../dependency-management/kotlin-gradle/">
        2.2 Kotlin Gradle projecten
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/tdd/" title="3. Test Driven Development" class="dd-item 
        
        
        
        ">
      <a href="../../tdd/">
          3. Test Driven Development
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/tdd/in-de-praktijk/" title="3.1 TDD In de praktijk" class="dd-item ">
        <a href="../../tdd/in-de-praktijk/">
        3.1 TDD In de praktijk
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/capita/" title="3.2 TDD Capita Selecta: Algoritmes" class="dd-item ">
        <a href="../../tdd/capita/">
        3.2 TDD Capita Selecta: Algoritmes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/tdd-challenge/" title="3.3 The TDD proglang challenge" class="dd-item ">
        <a href="../../tdd/tdd-challenge/">
        3.3 The TDD proglang challenge
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/tdd-ex-feedback/" title="3.4 TDD opgave feedback" class="dd-item ">
        <a href="../../tdd/tdd-ex-feedback/">
        3.4 TDD opgave feedback
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/algoritmes/" title="4. Algoritmes en Datastructuren" class="dd-item 
        
        
        
        ">
      <a href="../../algoritmes/">
          4. Algoritmes en Datastructuren
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/patterns/" title="5. Design Patterns" class="dd-item 
        parent
        
        
        ">
      <a href="../../patterns/">
          5. Design Patterns
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/patterns/facade/" title="5.1 Facade" class="dd-item ">
        <a href="../../patterns/facade/">
        5.1 Facade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/di/" title="5.2 Dependency Injection" class="dd-item ">
        <a href="../../patterns/di/">
        5.2 Dependency Injection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/singleton/" title="5.3 Singleton" class="dd-item ">
        <a href="../../patterns/singleton/">
        5.3 Singleton
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/decorator/" title="5.4 Decorator" class="dd-item active">
        <a href="../../patterns/decorator/">
        5.4 Decorator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/factory/" title="5.5 Factory" class="dd-item ">
        <a href="../../patterns/factory/">
        5.5 Factory
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/lifecycle/" title="6. Software Management" class="dd-item 
        
        
        
        ">
      <a href="../../lifecycle/">
          6. Software Management
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/ci/" title="6.1 Continuous Integration &amp; Deployment" class="dd-item ">
        <a href="../../lifecycle/ci/">
        6.1 Continuous Integration &amp; Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/management/" title="6.2 Software Management Skills" class="dd-item ">
        <a href="../../lifecycle/management/">
        6.2 Software Management Skills
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="Extra informatie" class="dd-item 
        
        
        
        ">
      <a href="../../extra/">
          Extra informatie
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy-extending/" title="Extending the SESsy WebApp" class="dd-item ">
        <a href="../../extra/sessy-extending/">
        Extending the SESsy WebApp
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/software/" title="Gebruikte Software" class="dd-item ">
        <a href="../../extra/software/">
        Gebruikte Software
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/github-classroom/" title="Oefenzittingen: Github Clasroom" class="dd-item ">
        <a href="../../extra/github-classroom/">
        Oefenzittingen: Github Clasroom
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy/" title="SESsy Library WebApp" class="dd-item ">
        <a href="../../extra/sessy/">
        SESsy Library WebApp
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.uhasselt.be/studiegids"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/kuleuven-diepenbeek/ses-course/"><i class='fab fa-github'></i> Course Git Repository</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Software Engineering Skills</a> > <a href='../../patterns/'>5. Design Patterns</a> > 5.4 Decorator
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#_decorator_---design-pattern"><em>&ldquo;Decorator&rdquo;</em> - Design Pattern</a>
      <ul>
        <li><a href="#doelstelling">Doelstelling</a></li>
        <li><a href="#voorbeeld">Voorbeeld</a></li>
        <li><a href="#eigenschappen-van-dit-patroon">Eigenschappen van dit patroon</a></li>
      </ul>
    </li>
    <li><a href="#a-nameoefalabo-oefeningen"><a name="oef"></a>Labo oefeningen</a>
      <ul>
        <li><a href="#opgave-1">Opgave 1</a></li>
        <li><a href="#opgave-2">Opgave 2</a></li>
        <li><a href="#opgave-3">Opgave 3</a></li>
      </ul>
    </li>
    <li><a href="#denkvragen">Denkvragen</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              5.4 Decorator
            </h1>
          

        


<h2 id="_decorator_---design-pattern"><em>&ldquo;Decorator&rdquo;</em> - Design Pattern</h2>
<p>Begeleidende screencast<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://player.vimeo.com/video/398544397" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div>

<h3 id="doelstelling">Doelstelling</h3>
<ul>
<li>Voeg dynamisch functionaliteit toe als alternatief voor klassieke overerving.</li>
<li>Gedraagt zich zoals het stukje &lsquo;ingepakte&rsquo; functionaliteit, maar voert extra handelingen uit.</li>
<li>Wordt in Java altijd via <code>interface</code> implementaties uitegevoerd.</li>
</ul>
<p><a href="https://sourcemaking.com/design_patterns/decorator">Dive Into Design Patterns: Decorator</a></p>
<h3 id="voorbeeld">Voorbeeld</h3>
<h4 id="1-opzet">1. Opzet</h4>
<p>Stel dat we in een fabriek op plaats X een auto samenstellen. De wagen is een zeer eenvoudige Volkswagen Golf, zonder opties. Op een andere locatie, plaats Y, hebben wij als bedrijf ook fabrieken die sportauto&rsquo;s bouwen (Volkswagen Scirocco) en op plaats Z luxe wagens (Volkswagen Passat).</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">interface</span> <span style="color:#75af00">Car</span> <span style="color:#111">{</span>
    <span style="color:#00a8c8">fun</span> <span style="color:#75af00">assemble</span><span style="color:#111">()</span> <span style="color:#75715e">// build stuff
</span><span style="color:#75715e"></span><span style="color:#111">}</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">interface</span> <span style="color:#75af00">Car</span> <span style="color:#f92672">{</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">assemble</span><span style="color:#f92672">();</span> <span style="color:#75715e">// build stuff
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</code></pre></div></div>
<p>Fabriek X:</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">class</span> <span style="color:#75af00">VWGolf</span> <span style="color:#111">:</span> <span style="color:#111">Car</span> <span style="color:#111">{</span>
    <span style="color:#00a8c8">override</span> <span style="color:#00a8c8">fun</span> <span style="color:#75af00">assemble</span><span style="color:#111">()</span> <span style="color:#111">=</span>
        <span style="color:#111">println</span><span style="color:#111">(</span><span style="color:#d88200">&#34;do not forget the steering wheel!&#34;</span><span style="color:#111">)</span>
<span style="color:#111">}</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">VWGolf</span> <span style="color:#00a8c8">implements</span> <span style="color:#111">Car</span> <span style="color:#f92672">{</span>
    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">assemble</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#111">System</span><span style="color:#f92672">.</span><span style="color:#75af00">out</span><span style="color:#f92672">.</span><span style="color:#75af00">println</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;do not forget the steering wheel!&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></div>
<p>Fabriek Y:</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">class</span> <span style="color:#75af00">VWScirocco</span> <span style="color:#111">:</span> <span style="color:#111">Car</span> <span style="color:#111">{</span>
    <span style="color:#00a8c8">override</span> <span style="color:#00a8c8">fun</span> <span style="color:#75af00">assemble</span><span style="color:#111">()</span> <span style="color:#111">=</span>
        <span style="color:#111">println</span><span style="color:#111">(</span><span style="color:#d88200">&#34;do not forget lots of turbo!&#34;</span><span style="color:#111">)</span>
<span style="color:#111">}</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">VWScirocco</span> <span style="color:#00a8c8">implements</span> <span style="color:#111">Car</span> <span style="color:#f92672">{</span>
    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">assemble</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#111">System</span><span style="color:#f92672">.</span><span style="color:#75af00">out</span><span style="color:#f92672">.</span><span style="color:#75af00">println</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;do not forget lots of turbo!&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></div>
<p>Fabriek Z:</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">class</span> <span style="color:#75af00">VWPassat</span> <span style="color:#111">:</span> <span style="color:#111">Car</span> <span style="color:#111">{</span>
    <span style="color:#00a8c8">override</span> <span style="color:#00a8c8">fun</span> <span style="color:#75af00">assemble</span><span style="color:#111">()</span> <span style="color:#111">=</span>
        <span style="color:#111">println</span><span style="color:#111">(</span><span style="color:#d88200">&#34;do not forget all the leather!&#34;</span><span style="color:#111">)</span>
<span style="color:#111">}</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">VWPassat</span> <span style="color:#00a8c8">implements</span> <span style="color:#111">Car</span> <span style="color:#f92672">{</span>
    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">assemble</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#111">System</span><span style="color:#f92672">.</span><span style="color:#75af00">out</span><span style="color:#f92672">.</span><span style="color:#75af00">println</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;do not forget all the leather!&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></div>
<script defer src="../../mermaid/mermaid.js">
	mermaid.initialize({
		startOnLoad: true,
		flowchart: {
			useMaxWidth: true
		}
	});
</script>
<div class="mermaid" align="center" >
	
graph TD;
    A["VW Golf"]
    B["VW Scirocco"]
    C["VW Passat"]
    Z{Car}
    Z --> A
    Z --> B
    Z --> C

</div>
<h4 id="2-probleemstelling">2. Probleemstelling</h4>
<p>De General Manager belt: hij meldt ons vrolijk dat we zijn opgekocht door Geely, een Chinese autofabriekant. De heren in China wensen een mooie combinatie te maken tussen langs de ene kant <strong>luxe</strong>, en langs de andere kant pure <strong>kracht</strong>. Een combinatie van de technologie van fabriek Y en Z, dus. Dit mag <em>enkel op aanvraag</em> gebeuren, en is dus niet simpelweg een nieuwe variant van een VW assemblage, maar een dynamische combinatie, waarbij soms meer luxe en soms meer kracht wordt gevraagd. Dat hangt natuurlijk van de klant af.</p>
<p>We zullen dus een custom optie voorzien:</p>
<script defer src="../../mermaid/mermaid.js">
	mermaid.initialize({
		startOnLoad: true,
		flowchart: {
			useMaxWidth: true
		}
	});
</script>
<div class="mermaid" align="center" >
	
graph TD;
    A["VW Golf"]
    B["VW Scirocco"]
    C["VW Passat"]
    D["Custom Car Decorator"]
    Z{Car}
    Z --> A
    Z --> B
    Z --> C
    B --> D
    C --> D

</div>
<h4 id="3-oplossing">3. Oplossing</h4>
<p>Deze custom oplossing is nog steeds een implementatie van de interface <code>Car</code>:</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">class</span> <span style="color:#75af00">CustomCarDecorator</span> <span style="color:#111">:</span> <span style="color:#111">Car</span> <span style="color:#111">{</span>
    <span style="color:#00a8c8">val</span> <span style="color:#111">carsToAssemble</span><span style="color:#111">:</span> <span style="color:#111">List</span><span style="color:#111">&lt;</span><span style="color:#111">Car</span><span style="color:#111">&gt;</span>

    <span style="color:#00a8c8">constructor</span><span style="color:#111">(</span><span style="color:#00a8c8">vararg</span> <span style="color:#111">carTypes</span><span style="color:#111">:</span> <span style="color:#111">Car</span><span style="color:#111">)</span> <span style="color:#111">{</span>
        <span style="color:#111">carsToAssemble</span> <span style="color:#111">=</span> <span style="color:#111">carTypes</span><span style="color:#111">.</span><span style="color:#111">toList</span><span style="color:#111">()</span>
    <span style="color:#111">}</span>

    <span style="color:#00a8c8">override</span> <span style="color:#00a8c8">fun</span> <span style="color:#75af00">assemble</span><span style="color:#111">()</span> <span style="color:#111">{</span>
        <span style="color:#00a8c8">for</span><span style="color:#111">(</span><span style="color:#111">car</span> <span style="color:#00a8c8">in</span> <span style="color:#111">carsToAssemble</span><span style="color:#111">)</span> <span style="color:#111">{</span>
            <span style="color:#111">car</span><span style="color:#111">.</span><span style="color:#111">assemble</span><span style="color:#111">()</span>
        <span style="color:#111">}</span>
    <span style="color:#111">}</span>
<span style="color:#111">}</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">CustomCarDecorator</span> <span style="color:#00a8c8">implements</span> <span style="color:#111">Car</span> <span style="color:#f92672">{</span>
    <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">final</span> <span style="color:#111">List</span><span style="color:#f92672">&lt;</span><span style="color:#111">Car</span><span style="color:#f92672">&gt;</span> <span style="color:#111">carsToAssemble</span><span style="color:#f92672">;</span>

    <span style="color:#00a8c8">public</span> <span style="color:#75af00">CustomCarDecorator</span><span style="color:#f92672">(</span><span style="color:#111">Car</span><span style="color:#f92672">...</span> <span style="color:#111">carTypes</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">carsToAssemble</span> <span style="color:#f92672">=</span> <span style="color:#111">Arrays</span><span style="color:#f92672">.</span><span style="color:#75af00">asList</span><span style="color:#f92672">(</span><span style="color:#111">carTypes</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">assemble</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">for</span><span style="color:#f92672">(</span><span style="color:#111">Car</span> <span style="color:#111">car</span> <span style="color:#f92672">:</span> <span style="color:#111">carsToAssemble</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#111">car</span><span style="color:#f92672">.</span><span style="color:#75af00">assemble</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></div>
<p>Op deze manier kunnen we zoveel auto types als de klant wenst doorgeven aan de <code>CustomCarDecorator</code> instantie, die netjes in de bestaande fabriek logica past, gegeven de volgende fabriek klasse:</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">class</span> <span style="color:#75af00">Factory</span> <span style="color:#111">{</span>
    <span style="color:#00a8c8">fun</span> <span style="color:#75af00">create</span><span style="color:#111">(</span><span style="color:#111">car</span><span style="color:#111">:</span> <span style="color:#111">Car</span><span style="color:#111">):</span> <span style="color:#111">Car</span> <span style="color:#111">{</span>
        <span style="color:#111">car</span><span style="color:#111">.</span><span style="color:#111">assemble</span><span style="color:#111">()</span>  <span style="color:#75715e">// works, since it&#39;s an interface
</span><span style="color:#75715e"></span>        <span style="color:#111">paint</span><span style="color:#111">(</span><span style="color:#111">car</span><span style="color:#111">)</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">car</span>
    <span style="color:#111">}</span>

    <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">fun</span> <span style="color:#75af00">paint</span><span style="color:#111">(</span><span style="color:#111">car</span><span style="color:#111">:</span> <span style="color:#111">Car</span><span style="color:#111">)</span> <span style="color:#111">=</span>
        <span style="color:#111">println</span><span style="color:#111">(</span><span style="color:#d88200">&#34;painting...&#34;</span><span style="color:#111">)</span>
<span style="color:#111">}</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Factory</span> <span style="color:#f92672">{</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">Car</span> <span style="color:#75af00">create</span><span style="color:#f92672">(</span><span style="color:#111">Car</span> <span style="color:#111">car</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#111">car</span><span style="color:#f92672">.</span><span style="color:#75af00">assemble</span><span style="color:#f92672">();</span>  <span style="color:#75715e">// works, since it&#39;s an interface
</span><span style="color:#75715e"></span>        <span style="color:#111">paint</span><span style="color:#f92672">(</span><span style="color:#111">car</span><span style="color:#f92672">);</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">car</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">paint</span><span style="color:#f92672">(</span><span style="color:#111">Car</span> <span style="color:#111">car</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#111">System</span><span style="color:#f92672">.</span><span style="color:#75af00">out</span><span style="color:#f92672">.</span><span style="color:#75af00">println</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;painting...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></div>
<p>Dit werkt enkel en alleen omdat we met een <strong>interface</strong> werken!</p>
<h3 id="eigenschappen-van-dit-patroon">Eigenschappen van dit patroon</h3>
<ul>
<li>Een Decorator verandert het contract van de interface niet. De interface wordt uitgebreid, zijnde dat bovenstaande <code>CustomCarDecorator</code> extra dingen doet ten opzichte van de standaard VW Golf/andere implementaties.</li>
<li>Een Decorator kan je gebruiken om extra functionaliteiten toe te voegen zonder aan de klasse structuur grote wijzigingen door te voeren. Gebruik hiervoor, zoals de <code>List&lt;Car&gt; carsToAssemble</code> member variable, <strong>Compositie</strong>, en niet <strong>Inheritance</strong>.</li>
<li>Een Decorator verandert de flow van de functionaliteit niet: dat doet een <em>Strategy</em> - een decorator voorziet enkel een ander uitzicht. Denk aan een doos in een doos stoppen: daar kan ook stiekem nog een extra doos in worden geplaatst. Maar het blijven dozen.</li>
</ul>
<h2 id="a-nameoefalabo-oefeningen"><a name="oef"></a>Labo oefeningen</h2>
<p>Via <a href="../../extra/github-classroom"><i class='fab fa-github'></i> Github Classroom</a>.</p>
<h3 id="opgave-1">Opgave 1</h3>
<p>Dit bevat bovenstaande wagenpark voorbeeld. Hier dien je de volgende dingen nog aan te wijzigen:</p>
<ul>
<li>Voorzie in de <code>main()</code> methode een nieuwe decorator instantie en geef die mee met de factory. Kijk in de output wat er gebeurt.</li>
<li>Maak een nieuwe auto implementatie aan, <code>VWPolo</code>. Geef de decorator een Golf en Polo mee. Nu maken we plots iets hoger niveau budget wagens!</li>
<li>Voorzie een eigen, statische decorator klasse, genaamd <code>PoloGolfDecorator</code>, die altijd bovenstaande wagens (Polo en Golf) combineert. Wat zit er in de klasse? Hoe implementeer je <code>assemble()</code>?</li>
</ul>
<h3 id="opgave-2">Opgave 2</h3>
<p>Werk verder op opgave 1: bouw een nieuwe <code>Factory</code> in Zweden. Deze Factory in Zweden kan veel meer kleuren op het chassis spuiten dan de klassieke Factory. (Verzin iets anders in het <code>println()</code> statement). Wat als een klant een combinatie van deze factory, en de klassieke wenst? Maak een Decorator voor de factories in plaats van de wagens. Test deze in de <code>Main</code> klasse.</p>
<h3 id="opgave-3">Opgave 3</h3>
<p><a href="../../extra/sessy">sessy library</a>:</p>
<ol>
<li>identificeer waar jij denkt dat een decorator nodig zou kunnen zijn. Waar zou mogelijks dynamische logica gebruikt kunnen worden?</li>
<li>Pas het patroon toe waar jij denkt dat het nodig is.</li>
</ol>
<h2 id="denkvragen">Denkvragen</h2>
<ul>
<li>Stel dat de klant altijd een combinatie van twee bepaalde auto&rsquo;s wenst. Wanneer beslissen we om dit permanent op te nemen in ons repertroire, en er een &ldquo;echte&rdquo; subklasse van te maken, en wanneer houden we het nog op een decorator?</li>
<li>Op welk patroon trekt dit patroon nog? Waarom? Zie [/](labo noties index) pagina.</li>
<li>Kan je dit ook zonder interfaces doen? Denk na over implementaties in andere programmeertalen.</li>
</ul>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Merk op dat de cursus nu wordt gehost op <a href="https://kuleuven-diepenbeek.github.io/ses-course/">https://kuleuven-diepenbeek.github.io/ses-course/</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../patterns/singleton/" title="5.3 Singleton"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../patterns/factory/" title="5.5 Factory" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1645804095"></script>
    <script src="../../js/perfect-scrollbar.min.js?1645804095"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1645804095"></script>
    <script src="../../js/jquery.sticky.js?1645804095"></script>
    <script src="../../js/featherlight.min.js?1645804095"></script>
    <script src="../../js/modernizr.custom-3.6.0.js?1645804095"></script>
    <script src="../../js/learn.js?1645804095"></script>
    <script src="../../js/hugo-learn.js?1645804095"></script>
    
        
            <script src="../../mermaid/mermaid.js?1645804095"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

