<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>Extending the SESsy WebApp :: Software Engineering Skills</title>

    
    <link href="../../css/nucleus.css?1651831808" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1651831808" rel="stylesheet">
    <link href="../../css/hybrid.css?1651831808" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1651831808" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1651831808" rel="stylesheet">
    <link href="../../css/auto-complete.css?1651831808" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1651831808" rel="stylesheet">
    <link href="../../css/theme.css?1651831808" rel="stylesheet">
    <link href="../../css/devselector.css?1651831808" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1651831808" rel="stylesheet">
    <link href="../../css/theme-kul.css?1651831808" rel="stylesheet">
    

    <script src="../../js/jquery-3.3.1.min.js?1651831808"></script>
    <script src="../../js/devselector.js?1651831808"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="../../extra/sessy-extending/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../images/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../images/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1651831808"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1651831808"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/ses-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1651831808"></script>

    
  </div>

    <div class="highlightable">

      <h3><a href="../../">Course Contents</a></h3>
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/versiebeheer/" title="1. Versie- en issuebeheer" class="dd-item
        
        
        
        ">
      <a href="../../versiebeheer/">
          1. Versie- en issuebeheer
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/dependency-management/" title="2. Dependency Management" class="dd-item
        
        
        
        ">
      <a href="../../dependency-management/">
          2. Dependency Management
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/dependency-management/gradle/" title="2.1 Java Gradle projecten" class="dd-item ">
        <a href="../../dependency-management/gradle/">
        2.1 Java Gradle projecten
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/dependency-management/kotlin-gradle/" title="2.2 Kotlin Gradle projecten" class="dd-item ">
        <a href="../../dependency-management/kotlin-gradle/">
        2.2 Kotlin Gradle projecten
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/tdd/" title="3. Test Driven Development" class="dd-item
        
        
        
        ">
      <a href="../../tdd/">
          3. Test Driven Development
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/tdd/in-de-praktijk/" title="3.1 TDD In de praktijk" class="dd-item ">
        <a href="../../tdd/in-de-praktijk/">
        3.1 TDD In de praktijk
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/capita/" title="3.2 TDD Capita Selecta: Algoritmes" class="dd-item ">
        <a href="../../tdd/capita/">
        3.2 TDD Capita Selecta: Algoritmes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/tdd-ex-feedback/" title="3.3 TDD opgave feedback" class="dd-item ">
        <a href="../../tdd/tdd-ex-feedback/">
        3.3 TDD opgave feedback
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/tdd-challenge/" title="3.3 The TDD proglang challenge" class="dd-item ">
        <a href="../../tdd/tdd-challenge/">
        3.3 The TDD proglang challenge
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/algoritmes/" title="4. Algoritmes en Datastructuren" class="dd-item
        
        
        
        ">
      <a href="../../algoritmes/">
          4. Algoritmes en Datastructuren
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/patterns/" title="5. Design Patterns" class="dd-item
        
        
        
        ">
      <a href="../../patterns/">
          5. Design Patterns
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/patterns/facade/" title="5.1 Facade" class="dd-item ">
        <a href="../../patterns/facade/">
        5.1 Facade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/di/" title="5.2 Dependency Injection" class="dd-item ">
        <a href="../../patterns/di/">
        5.2 Dependency Injection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/singleton/" title="5.3 Singleton" class="dd-item ">
        <a href="../../patterns/singleton/">
        5.3 Singleton
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/decorator/" title="5.4 Decorator" class="dd-item ">
        <a href="../../patterns/decorator/">
        5.4 Decorator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/factory/" title="5.5 Factory" class="dd-item ">
        <a href="../../patterns/factory/">
        5.5 Factory
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/lifecycle/" title="6. Software Management" class="dd-item
        
        
        
        ">
      <a href="../../lifecycle/">
          6. Software Management
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/ci/" title="6.1 Continuous Integration &amp; Deployment" class="dd-item ">
        <a href="../../lifecycle/ci/">
        6.1 Continuous Integration &amp; Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/management/" title="6.2 Software Management Skills" class="dd-item ">
        <a href="../../lifecycle/management/">
        6.2 Software Management Skills
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="Extra informatie" class="dd-item
        parent
        
        
        ">
      <a href="../../extra/">
          Extra informatie
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy-extending/" title="Extending the SESsy WebApp" class="dd-item active">
        <a href="../../extra/sessy-extending/">
        Extending the SESsy WebApp
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/software/" title="Gebruikte Software" class="dd-item ">
        <a href="../../extra/software/">
        Gebruikte Software
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/github-classroom/" title="Oefenzittingen: Github Clasroom" class="dd-item ">
        <a href="../../extra/github-classroom/">
        Oefenzittingen: Github Clasroom
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy/" title="SESsy Library WebApp" class="dd-item ">
        <a href="../../extra/sessy/">
        SESsy Library WebApp
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://www.uhasselt.be/studiegids"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/kuleuven-diepenbeek/ses-course/"><i class='fab fa-github'></i> Course Git Repository</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Software Engineering Skills</a> > <a href='../../extra/'>Extra informatie</a> > Extending the SESsy WebApp
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#sessy-library-uitbreiden">SESsy Library Uitbreiden</a>
      <ul>
        <li><a href="#opgave-1">Opgave 1</a></li>
        <li><a href="#opgave-2">Opgave 2</a></li>
        <li><a href="#opgave-3">Opgave 3</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Extending the SESsy WebApp
            </h1>
          

        


<h2 id="sessy-library-uitbreiden">SESsy Library Uitbreiden</h2>
<p><strong>Lees eerst</strong> <a href="../../extra/sessy">de installatieinstructies</a> en basics over de SESsy Library app.</p>
<p>Met de SESsy Library WebApp kunnen verstokte lezers (en mensen die boeken nooit terugbrengen) de database van de lokale bibliotheek raadplegen, en eventueel boeken uitlenen. Het is een simpele webapplicatie met een embedded server die standaard op poort <code>8080</code> draait, met een minimale front-end interface:</p>
<p><figure>
	<a href="../../img/teaching/ses/sessy.png" data-featherlight="image">
		<img src="../../img/teaching/ses/sessy.png"  >
	</a>
	
</figure>
</p>
<p>De codebase bevat echter nog heel wat lijntjes <code>TODO</code> commentaar die door de luie ontwikkelaars nooit zijn geïmplementeerd. Het is aan jullie om de applicatie verder af te werken, en deze tekortkomingen handig weg te werken. Uiteraard weten jullie ondertussen dat de twee hoekstenen van goede softwareontwikkeling <em>test-driven development</em> en <em>design patterns</em> zijn. Pas deze concepten ook bij het uitbreiden van deze applicatie toe.</p>
<p>IntelliJ biedt hiervoor het &ldquo;TODO window&rdquo; aan (CMD-6 of CTRL-6). Elke regel commentaar die begint met <code>// TODO doe dit of dat</code> verschijnt automatisch in dit venster.</p>
<h3 id="opgave-1">Opgave 1</h3>
<p>Neem een kijkje in de klasse <code>BookLendService</code>. De uitleen- en teruggeeffuncties zijn sterk vereenvoudigd:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">lend</span><span style="color:#f92672">(</span><span style="color:#111">Book</span> <span style="color:#111">book</span><span style="color:#f92672">,</span> <span style="color:#111">User</span> <span style="color:#111">user</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#111">book</span><span style="color:#f92672">.</span><span style="color:#75af00">borrow</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Waarbij de <code>borrowed</code> flag op <code>true</code> of <code>false</code> wordt gezet. Er ontbreekt hier nog heel wat logica:</p>
<ol>
<li>Mag de gebruiker die binnen komt als parameter dit boek wel uitlenen? In het geval van teruggeven, mag dat? Als die user <code>null</code> is - dus niet ingelogd - wat gebeurt er dan?</li>
<li>Moeten we valideren of het <code>book</code> object correct is - zijnde, is dat ISBN nummer wel aanwezig in onze database? Ik kan niet aan de lokale bib vragen een boek uit te lenen als het er nooit is geweest. Ik kan ook geen boek &lsquo;terugbrengen&rsquo; om het cadeau te geven.</li>
<li>Het veranderen van de staat van het object wordt momenteel niet gepersisteerd. Dat betekent dat de volgende keer als we zoeken naar boeken, plots het boek terug beschikbaar is. De <code>BooksRepository</code> interface moet dus worden aangesproken, maar die is momenteel nog niet geïnjecteerd.</li>
</ol>
<p>Voorzie ook een <code>BookLendServiceTests</code> klasse in de <code>src/test/java</code> map, in de juiste package subfolder. Denk na over het gebruik van unit- of integratietesten. Het spreekt voor zich dat je je implementatie best ook eens manueel, volledig geïntegreerd, test door de applicatie op te starten.</p>
<h3 id="opgave-2">Opgave 2</h3>
<p>De unit testen voor de klasse <code>BorrowBooksResource</code> zijn niet allemaal zuivere <em>unit</em> testen: sommigen leunen ook op de implementatie van <code>BookLendService</code> (wat het eerder integratietestem maakt). De kans is groot dat enkele testen kapot zijn door de implementatie van opgave 1. De TODO in deze klasse spreekt voor zich: gebruik Dependency Injection om de service te injecteren.</p>
<p>Mockito maakt het erg eenvoudig om dynamisch implementaties van interfaces te genereren, maar onze service is geen interface. Gewone klassen testen is minder evident voor het framework. Voorzie daarom een interface bovenop de standaard implementatie die de methodes <code>lend()</code> en <code>bringBack()</code> bevat, zodat we gedrag kunnen beschrijven in onze unit testen voor de borrow books resource.</p>
<h3 id="opgave-3">Opgave 3</h3>
<p>De gebruikersgroep &lsquo;<em>slechte uitleners</em>&rsquo; zijn echt, echt slecht. Ze luisteren nooit, en zorgen er nog ooit voor dat onze bibliotheek failliet gaat. We willen bij deze strengere maatregelen hanteren wat betreft het uitlenen van boeken:</p>
<ol>
<li>Slechte Uitleners mogen nooit meer dan 2 boeken tegelijkertijd uitlenen. Dit is momenteel onmogelijk om na te gaan, want een boek bevat slechts een <code>boolean</code>. Dat wil zeggen dat we dan ook onze trouwe klanten, de goede uitleners, straffen. We kunnen een extra veld introduceren of de boolean veranderen van data type, zodat we weten elk boek wordt bijgehouden door welke gebruiker.</li>
<li>Anoniempjes, dus de niet-ingelogde gebruikers, willen we een beperkte view op de database aanbieden. Reeds uitgeleende boeken mogen niet meer worden getoond in de resultaten van de zoek pagina. Welke klasse(n) dien je daarvoor te wijzigen? Welke edge cases (lees: testgevallen) kan je daarvoor verzinnen?</li>
</ol>
<p><figure>
	<a href="../../img/teaching/ses/sessy-uitgeleend.png" data-featherlight="image">
		<img src="../../img/teaching/ses/sessy-uitgeleend.png"   title="Dit uitgeleend boek mag niet meer verschijnen voor anonieme gebruikers.">
	</a>
	
		<figcaption>Dit uitgeleend boek mag niet meer verschijnen voor anonieme gebruikers.</figcaption>
	
</figure>
</p>
<p>Vergeet niet dat wijzigingen in de <code>Book</code> datastructuur grote gevolgen hebben voor de rest van de applicatie! De database, aangedreven door <code>BooksRepository</code>, zal ook moeten wijzigen. Een <code>String</code> in Java is een <code>VARCHAR</code> in SQL.</p>
<p>De front-end Javascript code gaat steeds uit van een <code>borrowed</code> flag die wordt gecontroleerd om de gele &ldquo;uitgeleend&rdquo; waarschuwing weer te geven. Je kan indien gewenst deze code in <code>Zoeken.vue</code> wijzigen, of de boolean laten staan en aan- of uitzetten naargelang de waarde van het nieuwe String veld. Bijvoorbeeld:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">setBorrowedBy</span><span style="color:#f92672">(</span><span style="color:#111">String</span> <span style="color:#111">user</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">borrowedBy</span> <span style="color:#f92672">=</span> <span style="color:#111">user</span><span style="color:#f92672">;</span>
    <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">borrowed</span> <span style="color:#f92672">=</span> <span style="color:#111">user</span> <span style="color:#f92672">!=</span> <span style="color:#00a8c8">null</span> <span style="color:#f92672">?</span> <span style="color:#00a8c8">true</span> <span style="color:#f92672">:</span> <span style="color:#00a8c8">false</span><span style="color:#f92672">;</span> <span style="color:#75715e">// of lege String checken
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</code></pre></div><p>Ik zeg altijd:</p>
<blockquote>
<p><code>./gradlew test</code> is uw vriend!</p>
</blockquote>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../extra/" title="Extra informatie"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../extra/software/" title="Gebruikte Software" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1651831808"></script>
    <script src="../../js/perfect-scrollbar.min.js?1651831808"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1651831808"></script>
    <script src="../../js/jquery.sticky.js?1651831808"></script>
    <script src="../../js/featherlight.min.js?1651831808"></script>
    <script src="../../js/modernizr.custom-3.6.0.js?1651831808"></script>
    <script src="../../js/learn.js?1651831808"></script>
    <script src="../../js/hugo-learn.js?1651831808"></script>
    
        
            <script src="../../mermaid/mermaid.js?1651831808"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

