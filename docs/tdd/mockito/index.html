<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.79.1" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>TDD In de praktijk: Mockito :: Software Engineering Skills</title>

    
    <link href="../../css/nucleus.css?1614176419" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1614176419" rel="stylesheet">
    <link href="../../css/hybrid.css?1614176419" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1614176419" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1614176419" rel="stylesheet">
    <link href="../../css/auto-complete.css?1614176419" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1614176419" rel="stylesheet">
    <link href="../../css/theme.css?1614176419" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1614176419" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1614176419" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1614176419"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
      <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

<script>
window.MathJax = {
  chtml: {
    scale: 2,                      
    minScale: .5,                  
    matchFontHeight: true,         
    mtextInheritFont: false,       
    merrorInheritFont: true,       
    mathmlSpacing: false,          
    skipAttributes: {},            
    exFactor: .5,                  
    displayAlign: 'center',        
    displayIndent: '0'             
  }
};
</script>

<script src=../../js/osc.js></script>
  </head>
  <body class="" data-url="../../tdd/mockito/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
	<img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
	<img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1614176419"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1614176419"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/ses-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1614176419"></script>

    
  </div>

    <div class="highlightable">
    <h3><a href="../../">Inhoudsopgave</a></h3>
    <ul class="topics">
        
          
          




 
  
    
    <li data-nav-id="/versiebeheer/" title="1. Versie- en issuebeheer" class="dd-item 
        
        
        
        ">
      <a href="../../versiebeheer/">
          1. Versie- en issuebeheer
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/dependency-management/" title="2. Dependency Management" class="dd-item 
        
        
        
        ">
      <a href="../../dependency-management/">
          2. Dependency Management
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/dependency-management/gradle/" title="Java Gradle projecten" class="dd-item ">
        <a href="../../dependency-management/gradle/">
        Java Gradle projecten
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/tdd/" title="3. Test Driven Development" class="dd-item 
        parent
        
        
        ">
      <a href="../../tdd/">
          3. Test Driven Development
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/tdd/mockito/" title="TDD In de praktijk: Mockito" class="dd-item active">
        <a href="../../tdd/mockito/">
        TDD In de praktijk: Mockito
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tdd/capita/" title="TDD met algoritmes" class="dd-item ">
        <a href="../../tdd/capita/">
        TDD met algoritmes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/algoritmes/" title="4. Algoritmes en Datastructuren" class="dd-item 
        
        
        
        ">
      <a href="../../algoritmes/">
          4. Algoritmes en Datastructuren
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/patterns/" title="5. Design Patterns" class="dd-item 
        
        
        
        ">
      <a href="../../patterns/">
          5. Design Patterns
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/patterns/facade/" title="1. Facade" class="dd-item ">
        <a href="../../patterns/facade/">
        1. Facade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/di/" title="2. Dependency Injection" class="dd-item ">
        <a href="../../patterns/di/">
        2. Dependency Injection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/singleton/" title="3. Singleton" class="dd-item ">
        <a href="../../patterns/singleton/">
        3. Singleton
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/decorator/" title="4. Decorator" class="dd-item ">
        <a href="../../patterns/decorator/">
        4. Decorator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/patterns/factory/" title="5. Factory" class="dd-item ">
        <a href="../../patterns/factory/">
        5. Factory
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/lifecycle/" title="6. SW Development Life Cycle" class="dd-item 
        
        
        
        ">
      <a href="../../lifecycle/">
          6. SW Development Life Cycle
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/ci/" title="Continuous Integration &amp; Deployment" class="dd-item ">
        <a href="../../lifecycle/ci/">
        Continuous Integration &amp; Deployment
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lifecycle/management/" title="Software Management Skills" class="dd-item ">
        <a href="../../lifecycle/management/">
        Software Management Skills
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="Extra informatie" class="dd-item 
        
        
        
        ">
      <a href="../../extra/">
          Extra informatie
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy-extending/" title="Extending the SESsy WebApp" class="dd-item ">
        <a href="../../extra/sessy-extending/">
        Extending the SESsy WebApp
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/software/" title="Gebruikte Software" class="dd-item ">
        <a href="../../extra/software/">
        Gebruikte Software
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/github-classroom/" title="Oefenzittingen: Github Clasroom" class="dd-item ">
        <a href="../../extra/github-classroom/">
        Oefenzittingen: Github Clasroom
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/sessy/" title="SESsy Library WebApp" class="dd-item ">
        <a href="../../extra/sessy/">
        SESsy Library WebApp
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.uhasselt.be/studiegids"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Software Engineering Skills</a> > <a href='../../tdd/'>3. Test Driven Development</a> > TDD In de praktijk: Mockito
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#een-interface-mocken-the-hard-way">Een interface &lsquo;mocken&rsquo;: the hard way</a></li>
        <li><a href="#een-interface-mocken-the-easy-way">Een interface &lsquo;mocken&rsquo;: the easy way</a></li>
        <li><a href="#tdd-in-een-groter-project">TDD in een groter project</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              TDD In de praktijk: Mockito
            </h1>
          

        


<p>Mockito is verreweg het meest populaire Unit Test Framework dat bovenop JUnit wordt gebruikt om heel snel Test Doubles en integratietesten op te bouwen.</p>
<p><figure>
	<a href="../../img/teaching/ses/mockito.png" data-featherlight="image">
		<img src="../../img/teaching/ses/mockito.png"  alt="Mockito logo" >
	</a>
	
</figure>
</p>
<p>Lees op <a href="https://site.mockito.org">https://site.mockito.org</a> <strong>hoe</strong> je het framework moet gebruiken. (Klik op de knoppen <strong>WHY</strong> en <strong>HOW</strong> bovenaan! Volledige <a href="https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html">javadoc</a>) Denk aan de volgende zaken:</p>
<ul>
<li>Hoe include ik Mockito als een dependency in mijn project?</li>
<li>Hoe gebruik ik de API om een Test Double/mock aan te maken?</li>
<li>Hoe valideer ik verwachtingen die ik heb van deze Test Double?</li>
</ul>
<h3 id="een-interface-mocken-the-hard-way">Een interface &lsquo;mocken&rsquo;: the hard way</h3>
<p>Zoals aangehaald in de <a href="../../tdd">TDD noties</a> kan een eigen implementatie van een interface worden gemaakt die als Test Double werkt (denk aan Arnie&rsquo;s stuntman). Het vervelende is dat deze klasse enkel maar wordt gebruikt in test code, dus niet in productie code. Mockito maakt dit dynamisch aan, zonder dat er ooit het keyword <code>class</code> bij aan de pas komt.</p>
<p><figure>
	<a href="../../img/testdouble.jpg" data-featherlight="image">
		<img src="../../img/testdouble.jpg"   title="I&#39;ll Be Back.">
	</a>
	
		<figcaption>I&#39;ll Be Back.</figcaption>
	
</figure>
</p>
<p>Stel, Arnold gaat acteren voor de nieuwe film <strong>Die Hard: In A Deepen Beek</strong> (uit in 2025 - Bruce had geen zin meer). Hij moet daarvoor een aantal fantastische stunts uithalen, die hij niet graag zelf zou doen. De volgende interface definieert een &lsquo;Arnold&rsquo;, waarbij <code>doBackFlip()</code> de gevaarlijke stunt is (resultaat is <code>true</code> indien geslaagd):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IllBeBack</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">doBackFlip</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>De casting crew en de director verwachten dat tijdens een opname 3x een backflip succesvol wordt uitgevoerd. Indien deze niet lukt, wordt de take opnieuw genomen. Dit manifesteert zich in code in de vorm van een <code>RuntimeException</code>. De One And Only Arnold had op dat moment een crisisvergadering in Californië en kon niet aanwezig zijn op de set. Gelukkig zijn er lookalikes en stuntmannen genoeg:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ArnieLookalike</span> <span style="color:#66d9ef">implements</span> IllBeBack <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">doBackFlip</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StuntmanArnie</span> <span style="color:#66d9ef">implements</span> IllBeBack <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">doBackFlip</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Enkel <code>StuntmanArnie</code> is fysiek krachtig genoeg om consistent de backflip uit te voeren. De lookalike ziet er uit zoals Arnold, maar bakt jammer genoeg van de scene niet zo veel. Hieronder een blueprint van de opname code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DieHardInADeepenBeek</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> IllBeBack arnoldActor<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setArnoldActor</span><span style="color:#f92672">(</span>IllBeBack actor<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">arnoldActor</span> <span style="color:#f92672">=</span> actor<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordActOne</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">boolean</span> succeeded <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">for</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;=</span> 3<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            succeeded <span style="color:#f92672">&amp;=</span> arnoldActor<span style="color:#f92672">.</span><span style="color:#a6e22e">doBackFlip</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>

        <span style="color:#66d9ef">if</span><span style="color:#f92672">(!</span>succeeded<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;do that again, please...&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>De hamvraag is nu: hoe testen we de <strong>logica in <code>recordActOne</code></strong>? Daarvoor zal de backflip soms moeten lukken, en soms ook niet. We hebben dus zowel een <code>ArnieLookalike</code> als <code>StuntmanArnie</code> implementatie nodig:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DieHardInADeepenBeekTests</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Test</span><span style="color:#f92672">(</span>ExpectedException <span style="color:#f92672">=</span> RuntimeException<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordActOne_backflipFails_haveToRedoTheWholeThing</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. Arrange
</span><span style="color:#75715e"></span>        var movie <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DieHardInADeepenBeek<span style="color:#f92672">();</span>
        var actor <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArnieLookalike<span style="color:#f92672">();</span>
        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">setArnoldActor</span><span style="color:#f92672">(</span>actor<span style="color:#f92672">);</span>

        <span style="color:#75715e">// 2. act
</span><span style="color:#75715e"></span>        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">recordActOne</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 3. assert (in annotation)
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordActOne_backflipSucceeds_ok</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. Arrange
</span><span style="color:#75715e"></span>        var movie <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DieHardInADeepenBeek<span style="color:#f92672">();</span>
        var actor <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StuntmanArnie<span style="color:#f92672">();</span>
        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">setArnoldActor</span><span style="color:#f92672">(</span>actor<span style="color:#f92672">);</span>

        <span style="color:#75715e">// 2. act
</span><span style="color:#75715e"></span>        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">recordActOne</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 3. assert
</span><span style="color:#75715e"></span>        assertTrue<span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="een-interface-mocken-the-easy-way">Een interface &lsquo;mocken&rsquo;: the easy way</h3>
<p>In plaats van de <code>ArnieLookalike</code> en <code>StuntmanArnie</code> klasses zelf te maken, kunnen we hier Mockito het zware werk laten doen door gebruik te maken van de <code>mock()</code> methode. De testen worden dan lichtjes anders, omdat we daarin het gedrag van de mock eerst moeten bepalen voordat we naar de act en assert stappen kunnen gaan:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DieHardInADeepenBeekTests</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Test</span><span style="color:#f92672">(</span>ExpectedException <span style="color:#f92672">=</span> RuntimeException<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordActOne_backflipFails_haveToRedoTheWholeThing</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. Arrange
</span><span style="color:#75715e"></span>        var movie <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DieHardInADeepenBeek<span style="color:#f92672">();</span>
        var actor <span style="color:#f92672">=</span> mock<span style="color:#f92672">(</span>IllBeBack<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        when<span style="color:#f92672">(</span>actor<span style="color:#f92672">.</span><span style="color:#a6e22e">doBackFlip</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">thenReturn</span><span style="color:#f92672">(</span><span style="color:#66d9ef">false</span><span style="color:#f92672">);</span>
        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">setArnoldActor</span><span style="color:#f92672">(</span>actor<span style="color:#f92672">);</span>

        <span style="color:#75715e">// 2. act
</span><span style="color:#75715e"></span>        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">recordActOne</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 3. assert (in annotation)
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordActOne_backflipSucceeds_ok</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. Arrange
</span><span style="color:#75715e"></span>        var movie <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DieHardInADeepenBeek<span style="color:#f92672">();</span>
        var actor <span style="color:#f92672">=</span> mock<span style="color:#f92672">(</span>IllBeBack<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        when<span style="color:#f92672">(</span>actor<span style="color:#f92672">.</span><span style="color:#a6e22e">doBackFlip</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">thenReturn</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">setArnoldActor</span><span style="color:#f92672">(</span>actor<span style="color:#f92672">);</span>

        <span style="color:#75715e">// 2. act
</span><span style="color:#75715e"></span>        movie<span style="color:#f92672">.</span><span style="color:#a6e22e">recordActOne</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 3. assert
</span><span style="color:#75715e"></span>        assertTrue<span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Het geheim zit hem in de <code>mock()</code> en <code>when()</code> methodes, waarmee we het gedrag van de mock implementatie kunnen aansturen. Dit werd vroeger manueel geïmplementeerd, maar die klasses zijn nu niet meer nodig.</p>
<p>Lees op <a href="https://site.mockito.org">https://site.mockito.org</a> <strong>hoe</strong> je het framework moet gebruiken. (Klik op de knoppen <strong>WHY</strong> en <strong>HOW</strong> bovenaan! Volledige <a href="https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html">javadoc</a>)</p>
<h3 id="tdd-in-een-groter-project">TDD in een groter project</h3>
<p>De <a href="../../extra/sessy">SESsy library</a> webapplicatie bevat ook unit-, integratie- en endtoend-testen die een meer &lsquo;real-life&rsquo; omgeving simuleren met een grotere codebase. Zij die zoeken naar een beter begrip van het concept TDD en de implementatie ervan in de dagelijkse wereld, kunnen daar hun oren en ogen de kost geven. We moedigen tevens het wijzigen van testen aan om te kijken wat er gebeurt!</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../tdd/" title="3. Test Driven Development"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../tdd/capita/" title="TDD met algoritmes" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1614176419"></script>
    <script src="../../js/perfect-scrollbar.min.js?1614176419"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1614176419"></script>
    <script src="../../js/jquery.sticky.js?1614176419"></script>
    <script src="../../js/featherlight.min.js?1614176419"></script>
    <script src="../../js/highlight.pack.js?1614176419"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1614176419"></script>
    <script src="../../js/learn.js?1614176419"></script>
    <script src="../../js/hugo-learn.js?1614176419"></script>
    
        
            <script src="../../mermaid/mermaid.js?1614176419"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

